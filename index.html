<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Eslobar</title>
  <meta name="color-scheme" content="dark" />
  <link rel="stylesheet" href="static/css/app.css" />
  <!-- FAVICON del navegaor -->
  <link rel="icon" href="/static/images/favicon-32.png" sizes="32x32" type="image/png">
  <link rel="icon" href="/static/images/favicon-16.png" sizes="16x16" type="image/png">

  <!-- iOS: √≠cono para ‚ÄúAgregar a pantalla de inicio‚Äù en iPhone/iPad -->
  <link rel="apple-touch-icon" href="/static/images/ios-icon-180.png" sizes="180x180">
  <!-- (Pod√©s incluir varias: 120, 152, 167, 180, etc.) -->

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- Opcional (iOS ‚Äúweb app‚Äù) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Mi App">
  <meta name="theme-color" content="#fff">
</head>
<body>
  <!-- Topbar estilo ChatGPT -->
  <header class="top-nav">
    <div class="nav-left">

      <button class="menu-btn">
        <img src="static/images/bar.png" alt="menu">
      </button>
      <!-- Selector de modelo -->
      <button id="modelSelector" class="model-btn" aria-haspopup="listbox" aria-expanded="false">
        <span id="currentModelName">Eslobar</span>
        <span class="chevron"> </span>
      </button>

      <!-- Dropdown de modelos -->
      <div id="modelDropdown" class="dropdown hidden" role="listbox">
        <button class="dropdown-item" data-model="gpt-3.5-turbo">Eslobar 2.5</button>
        <button class="dropdown-item" data-model="gpt-4o-mini">Eslobar 3-mini</button>
        <button class="dropdown-item" data-model="gpt-4-turbo">Eslobar 3</button>
        <div class="separator"></div>
        <button class="dropdown-item" data-model="agent">üßë‚Äçüíª Agente con navegador</button>
      </div>
    </div>

    <!-- Bot√≥n nuevo chat (derecha) -->
    <button class="newchat-btn" id="newChatBtn">
      <img src="static/images/new-chat.png" alt="Nuevo chat">
    </button>
  </header>

  <!-- Chat -->
  <main id="main" class="main">
    <div id="messages" class="messages" aria-live="polite"></div>

    <!-- Bienvenida -->
    <div id="welcome" class="welcome">
      <img src="static/images/chat-mode.png" alt="Eslobar" class="welcome-img">
    </div>


    <!-- Composer -->
    <div class="composer">
      <div class="input-wrapper">
        <button id="quickPlus" class="attach-btn" title="Acciones r√°pidas">
          <img src="static/images/icon1.png" alt="Acciones" />
        </button>

        <textarea id="input" rows="1" placeholder="Enviar un mensaje a Eslobar"></textarea>
        <!-- Nuevo bot√≥n de micr√≥fono -->
        <button id="micBtn" class="send-btn mic-btn">
          <img src="static/images/microfono.png" alt="Voz" />
        </button>

        <button id="sendBtn" class="send-btn" disabled>
          <img id="sendIcon" src="static/images/button1.png" alt="Enviar" />
        </button>
      </div>
      
      <p class="disclaimer"></p>
      
      <input type="file" id="fileInput" hidden />
    </div>
  </main>

  <!-- Modal: no hay micr√≥fono -->
  <div id="noMicModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="noMicTitle">
    <div class="modal-backdrop"></div>
    <div class="modal-card">
      <h3 id="noMicTitle">No se detect√≥ un micr√≥fono</h3>
      <p>Verific√° permisos del navegador y que tu dispositivo tenga un micr√≥fono disponible.</p>
      <div class="modal-actions">
        <button id="noMicClose" class="btn-primary">Entendido</button>
      </div>
    </div>
  </div>


  <!-- Mantener tu runner intacto -->
  <script>
    window.AGENT_RUNNER_URL = localStorage.getItem("AGENT_RUNNER_URL") || "https://agent-runner-tpcc.onrender.com";
  </script>
  <script src="static/script/app.js"></script>
  <script src="static/script/markdown.js"></script>
  <script src="static/script/respuesta.js"></script>
</body>
</html>




















