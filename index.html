<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Eslobar</title>
  <meta name="color-scheme" content="dark" />
  <link rel="stylesheet" href="static/css/app.css" />
  <!-- FAVICON del navegaor -->
  <link rel="icon" href="/static/images/favicon-32.png" sizes="32x32" type="image/png">
  <link rel="icon" href="/static/images/favicon-16.png" sizes="16x16" type="image/png">

  <!-- iOS: √≠cono para ‚ÄúAgregar a pantalla de inicio‚Äù en iPhone/iPad -->
  <link rel="apple-touch-icon" href="/static/images/ios-icon-180.png" sizes="180x180">
  <!-- (Pod√©s incluir varias: 120, 152, 167, 180, etc.) -->

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json">
  <!-- FUENTE -->
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Opcional (iOS ‚Äúweb app‚Äù) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Mi App">
  <meta name="theme-color" content="#fff">

  <!-- Tema tipo Visual Studio -->
  <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs.min.css">

  <!-- N√∫cleo de highlight.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <!-- Lenguajes que vas a usar (html, js, css por ejemplo) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/html.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css">

  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script>

  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"
          onload="renderMathInElement(document.body);"></script>

</head>
<body>
  <!-- Topbar estilo ChatGPT -->
  <header class="top-nav">
    <div class="nav-left">

      <button class="menu-btn">
        <img src="static/images/bar.png" alt="menu">
      </button>
      <!-- Selector de modelo -->
      <button id="modelSelector" class="model-btn" aria-haspopup="listbox" aria-expanded="false">
        <span id="currentModelName">Eslobar</span>
        <span class="brand-sub">4o</span>   <!-- NUEVO TEXTO AL LADO -->
        <!-- Nueva flecha -->
        <img class="brand-arrow" src="static/images/arrow.png" alt="arrow">
        <span class="chevron"> </span>
      </button>

      <!-- Dropdown de modelos -->
      <div id="modelDropdown" class="dropdown hidden" role="listbox">
        <button class="dropdown-item" data-model="gpt-3.5-turbo">Eslobar 2.5</button>
        <button class="dropdown-item" data-model="gpt-4o-mini">Eslobar 3-mini</button>
        <button class="dropdown-item" data-model="gpt-4-turbo">Eslobar 3</button>
        <div class="separator"></div>
        <button class="dropdown-item" data-model="agent">üßë‚Äçüíª Agente con navegador</button>
      </div>
    </div>

    <!-- BOTONES CENTRALES -->
    <div class="nav-center">
      <button id="modeChatBtn" class="mode-btn active">
        <img src="static/images/chat-mode.png" alt="Chat">
      </button>

      <button id="modeAgentBtn" class="mode-btn">
        <img src="static/images/agent-mode.png" alt="Agente">
      </button>

      <div class="mode-underline"></div>
    </div> 

    <!-- Bot√≥n nuevo chat (derecha) -->
    <button class="newchat-btn" id="newChatBtn">
      <img src="static/images/new-chat.png" alt="Nuevo chat">
    </button>
  </header> 

  <!-- Chat -->
  <main id="main" class="main">
    <div id="messages" class="messages" aria-live="polite"></div>

    <!-- Bienvenida -->
    <div id="welcome" class="welcome">
      <img src="static/images/chat-mode.png" alt="Eslobar" class="welcome-img">
    </div>

    <div class="bottom-mask"></div>
    
    <div class="composer">
  <div class="input-wrapper">

    <div class="attach-container">
      <button id="quickPlus" class="attach-btn" title="Acciones r√°pidas">
        <img src="static/images/icon1.png" alt="Acciones" />
      </button>

      <div id="attachMenu" class="attach-menu hidden">

        <div class="attach-section-title">Modo de explicaci√≥n</div>
        <div class="attach-option" data-style="formal">Formal</div>
        <div class="attach-option" data-style="avanzado">Avanzado</div>

        <div class="attach-option selected" data-style="simple">
          Simple <img src="static/images/tick.png" class="tick">
        </div>

        <div class="attach-separator"></div>

        <div class="attach-option">
          <img src="static/images/canva.png" class="icon"> Creame un canva
        </div>

        <div class="attach-option">
          <img src="static/images/capcut.png" class="icon"> Edita este video
        </div>

        <div class="attach-option">
          <img src="static/images/safari.png" class="icon"> Busca en internet
        </div>

        <div class="attach-option">
          <img src="static/images/youtube.png" class="icon"> Buscame videos
        </div>

        <div class="attach-separator"></div>

        <div class="attach-option">
          <img src="static/images/imagen.png" class="icon"> Adjuntar imagen
        </div>

        <div class="attach-option">
          <img src="static/images/conexiones.png" class="icon"> Conexiones
        </div>

      </div> <!-- attach-menu -->

    </div> <!-- attach-container -->

    <textarea id="input" rows="1" placeholder="Enviar un mensaje a Eslobar"></textarea>

    <button id="micBtn" class="send-btn mic-btn">
      <img src="static/images/microfono.png" alt="Voz" />
    </button>

    <button id="sendBtn" class="send-btn" disabled>
      <img id="sendIcon" src="static/images/button1.png" alt="Enviar" />
    </button>

  </div> <!-- input-wrapper -->

  <div id="suggestions" class="suggestions"></div>
  <p class="disclaimer"></p>
  <input type="file" id="fileInput" hidden />
</div>





  <!-- Mantener tu runner intacto -->
  <script>
    window.AGENT_RUNNER_URL = localStorage.getItem("AGENT_RUNNER_URL") || "https://agent-runner-tpcc.onrender.com";
  </script>
  <script src="static/script/app.js"></script>
  <script src="static/script/markdown.js"></script>
  <script src="static/script/respuesta.js"></script>
</body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    renderMathInElement(document.querySelector("#messages"), {
      delimiters: [
        {left: "$$", right: "$$", display: true},
        {left: "\\[", right: "\\]", display: true},
        {left: "\\(", right: "\\)", display: false},
        {left: "$", right: "$", display: false}
      ]
    });
  });
</script>







































